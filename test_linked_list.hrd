#!/usr/bin/env harding
# Test linked list behavior

Node := Object derive.

Node>>initialize: v [
  value := v.
  nextNode := nil
]

Node>>value [ ^ value ]
Node>>next [ ^ nextNode ]
Node>>next: n [ nextNode := n ]

# Create list: 1 -> 2 -> 3
node1 := Node new.
node1 initialize: 1.

node2 := Node new.
node2 initialize: 2.

node3 := Node new.
node3 initialize: 3.

node1 next: node2.
node2 next: node3.

# Traverse and sum
sum := 0.
current := node1.
[ current notNil ] whileTrue: [
  sum := sum + (current value).
  current := current next
].

sum
