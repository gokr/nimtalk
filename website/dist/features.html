<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Features - Harding Smalltalk</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <a href="index.html" class="logo">
                <span class="logo-icon">◉</span>
                <span class="logo-text">harding</span>
            </a>
            <button class="nav-toggle" aria-label="Toggle navigation">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <ul class="nav-menu">
                <li><a href="why.html">Why Harding?</a></li>
                <li><a href="features.html" class="active">Features</a></li>
                <li><a href="docs.html">Docs</a></li>
                <li><a href="https://github.com/gokr/harding" class="nav-cta">GitHub</a></li>
            </ul>
        </div>
    </nav>

    <!-- Page Header -->
    <section class="page-header">
        <div class="container">
            <h1>Features</h1>
            <p class="page-subtitle">Everything that makes Harding special</p>
        </div>
    </section>

    <!-- Language Features -->
    <section class="content-section">
        <div class="container">
            <h2 class="section-title">Language Features</h2>

            <div class="feature-detail">
                <div class="feature-text">
                    <h3>Pure Smalltalk Semantics</h3>
                    <p>Harding preserves the essence of Smalltalk:</p>
                    <ul>
                        <li><strong>Everything is an object</strong> - Numbers, strings, blocks, classes</li>
                        <li><strong>Everything happens via message passing</strong> - No function calls, only messages</li>
                        <li><strong>Late binding</strong> - Method lookup happens at message send time</li>
                        <li><strong>Blocks with non-local returns</strong> - True closures with <code>^</code> return</li>
                    </ul>
                </div>
                <div class="feature-code">
                    <div class="code-block">
                        <div class="code-header">Message Passing</div>
                        <pre><code>3 + 4                    <span class="comment"># binary message</span>
obj size                 <span class="comment"># unary message</span>
dict at: key put: value  <span class="comment"># keyword message</span>

<span class="comment"># Blocks with non-local return</span>
findPositive := [:arr |
    arr do: [:n |
        (n > 0) ifTrue: [^ n]
    ].
    ^ nil
]</code></pre>
                    </div>
                </div>
            </div>

            <div class="feature-detail reverse">
                <div class="feature-text">
                    <h3>Modern Syntax</h3>
                    <p>Optional periods, hash comments, double-quoted strings:</p>
                    <ul>
                        <li>Newlines separate statements (periods optional)</li>
                        <li>Hash <code>#</code> for comments</li>
                        <li>Double quotes for strings</li>
                        <li>Clean, readable code</li>
                    </ul>
                </div>
                <div class="feature-code">
                    <div class="code-block">
                        <div class="code-header">Modern Syntax</div>
                        <pre><code><span class="comment"># This is a comment</span>
x := 1                  <span class="comment"># No period needed</span>
y := 2
z := x + y              <span class="comment"># But periods work too</span>

<span class="string">"Double quotes for strings"</span></code></pre>
                    </div>
                </div>
            </div>

            <div class="feature-detail">
                <div class="feature-text">
                    <h3>Class-Based with Multiple Inheritance</h3>
                    <p>Create classes dynamically with slots and methods:</p>
                    <ul>
                        <li>Dynamic class creation with <code>derive:</code></li>
                        <li>Direct slot access for O(1) performance</li>
                        <li>Multiple inheritance with conflict detection</li>
                        <li>Qualified and unqualified super sends</li>
                    </ul>
                </div>
                <div class="feature-code">
                    <div class="code-block">
                        <div class="code-header">Class Definition</div>
                        <pre><code><span class="type">Point</span> := <span class="type">Object</span> derive: <span class="keyword">#</span>(x y)

<span class="type">Point</span> extend: [
    <span class="keyword">self</span> <span class="operator">>></span> moveBy: dx and: dy [
        x := x <span class="operator">+</span> dx
        y := y <span class="operator">+</span> dy
        <span class="keyword">^</span> <span class="keyword">self</span>
    ]

    <span class="keyword">self</span> <span class="operator">>></span> distanceFromOrigin [
        <span class="keyword">^</span> ((x <span class="operator">*</span> x) <span class="operator">+</span> (y <span class="operator">*</span> y)) sqrt
    ]
]

p := <span class="type">Point</span> new
p x: <span class="number">3</span> y: <span class="number">4</span>
p distanceFromOrigin println   <span class="comment"># 5.0</span></code></pre>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Runtime Features -->
    <section class="content-section alt">
        <div class="container">
            <h2 class="section-title">Runtime Features</h2>

            <div class="feature-cards">
                <div class="feature-card-large">
                    <div class="feature-icon-large">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                            <circle cx="12" cy="12" r="10"/>
                            <path d="M12 6v6l4 2"/>
                        </svg>
                    </div>
                    <h3>Green Threads</h3>
                    <p>Cooperative multitasking with first-class Process objects:</p>
                    <pre><code>worker := Processor fork: [
    1 to: 10 do: [:i |
        i println
        Processor yield
    ]
]

worker suspend
worker resume
worker terminate</code></pre>
                </div>

                <div class="feature-card-large">
                    <div class="feature-icon-large">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                            <path d="M12 2L2 7l10 5 10-5-10-5z"/>
                            <path d="M2 17l10 5 10-5"/>
                            <path d="M2 12l10 5 10-5"/>
                        </svg>
                    </div>
                    <h3>Stackless VM</h3>
                    <p>Each Process runs in its own stackless VM, enabling lightweight processes and a path to true parallelism.</p>
                </div>

                <div class="feature-card-large">
                    <div class="feature-icon-large">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                            <rect x="4" y="4" width="16" height="16" rx="2"/>
                            <path d="M8 9h8M8 12h8M8 15h5"/>
                        </svg>
                    </div>
                    <h3>Live REPL</h3>
                    <p>Interactive development with immediate feedback:</p>
                    <pre><code>$ harding
> Point := Object derive: #(x y)
Point
> p := Point new
Point instance
> p x: 10
10</code></pre>
                </div>
            </div>
        </div>
    </section>

    <!-- Collections -->
    <section class="content-section">
        <div class="container">
            <h2 class="section-title">Collections</h2>

            <div class="feature-detail">
                <div class="feature-text">
                    <h3>Rich Collection Library</h3>
                    <p>Arrays, Tables, and all the classic Smalltalk collection methods:</p>
                    <ul>
                        <li><strong>Array</strong> - Ordered collection <code>#(1 2 3)</code></li>
                        <li><strong>Table</strong> - Dictionary <code>#{"key" -> "value"}</code></li>
                        <li><strong>Iteration</strong> - <code>do:</code>, <code>collect:</code>, <code>select:</code></li>
                        <li><strong>Reduction</strong> - <code>inject:into:</code>, <code>detect:</code></li>
                    </ul>
                </div>
                <div class="feature-code">
                    <div class="code-block">
                        <div class="code-header">Collections</div>
                        <pre><code><span class="comment"># Array literal</span>
numbers := <span class="keyword">#</span>(<span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span>)

<span class="comment"># Table literal</span>
scores := <span class="keyword">#{</span><span class="string">"Alice"</span> <span class="operator">-></span> <span class="number">95</span>, <span class="string">"Bob"</span> <span class="operator">-></span> <span class="number">87</span><span class="keyword">}</span>

<span class="comment"># Collection methods</span>
numbers do: [:n | n println]
squares := numbers collect: [:n | n * n]
evens := numbers select: [:n | (n \ 2) = 0]
sum := numbers inject: 0 into: [:acc :n | acc + n]</code></pre>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-brand">
                    <a href="index.html" class="logo">
                        <span class="logo-icon">◉</span>
                        <span class="logo-text">harding</span>
                    </a>
                    <p>A tribute to Dan Ingalls.<br>Smalltalk's wisdom, modern tooling.</p>
                </div>
                <div class="footer-links">
                    <div class="footer-column">
                        <h4>Resources</h4>
                        <ul>
                            <li><a href="https://github.com/gokr/harding">GitHub</a></li>
                            <li><a href="docs.html">Documentation</a></li>
                            <li><a href="features.html">Features</a></li>
                            <li><a href="why.html">Why Harding?</a></li>
                        </ul>
                    </div>
                    <div class="footer-column">
                        <h4>Community</h4>
                        <ul>
                            <li><a href="https://github.com/gokr/harding/issues">Issues</a></li>
                            <li><a href="https://github.com/gokr/harding/discussions">Discussions</a></li>
                            <li><a href="https://github.com/gokr/harding/blob/main/CLAUDE.md">Contributing</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>Released under the MIT License.</p>
                <p>A tribute to Dan Ingalls and the Smalltalk community.</p>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
</body>
</html>
