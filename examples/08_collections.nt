#!/usr/bin/env ntalk
#
# Arrays and Tables
#

'=== Arrays ===' println

arr := Array new
arr add: 10
arr add: 20
arr add: 30

('Array size: ' , (arr size asString)) println
('First element: ' , (arr at: 0) asString) println
('Last element: ' , (arr last) asString) println

'' println
'=== Array Literals ===' println

numbers := #(1 2 3 4 5)
('Array literal: ' , numbers asString) println

'' println
'=== Array Iteration ===' println

'Elements: ' print
numbers do: [ :n | n printString print ]
'' println

'' println
'=== Array Methods ===' println

squared := numbers collect: [ :n | n * n ]
('Squared: ' , squared asString) println

evens := numbers select: [ :n | n even ]
('Evens: ' , evens asString) println

sum := numbers inject: 0 into: [ :acc :n | acc + n ]
('Sum: ' , sum asString) println

'' println
'=== Tables (Dictionaries) ===' println

table := Table new
table at: 'name' put: 'Alice'
table at: 'age' put: 30
table at: 'city' put: 'Wonderland'

('Name: ' , (table at: 'name')) println
('Age: ' , (table at: 'age') asString) println

'' println
'=== Table Keys ===' println

'Keys: ' print
table keys println
