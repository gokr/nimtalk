# Nimtalk Slot-based Instance Variables Demo
#
# This demonstrates the new object model with declared instance variables
# that are 149x faster than property bag access

# Create a Person class with instance variables
Person := Object derive: #(#name #age).

# Create a person instance
person := Person derive.

# Use automatic accessors (generated by derive:)
person name: "Alice".
person age: 30.

# The values are stored in direct slots, not a property bag
stdout writeline: "Person name: ", (person name).
stdout writeline: "Person age: ", (person age).

# Create another person to show independence
person2 := Person derive.
person2 name: "Bob".
person2 age: 25.

stdout writeline: "Person2 name: ", (person2 name).
stdout writeline: "Person2 age: ", (person2 age).

# Show that the first person is unchanged
stdout writeline: "Person1 still: ", (person name), ", ", (person age).

# Create a class with inherited instance variables
Animal := Object derive: #(#species).
Dog := Animal derive: #(#breed).

dog := Dog derive.
dog species: "Canine".
dog breed: "Labrador".

stdout writeline: "Dog species: ", (dog species).
stdout writeline: "Dog breed: ", (dog breed).
