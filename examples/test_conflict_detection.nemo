# Test Conflict Detection and addParent: functionality

# Scenario 1: Method override with addParent:
# Demonstrates that you can override a conflicting method before adding a parent

Parent1 := Object derive: #(a)
Parent1 >> foo [ ^ "foo1" ]

Parent2 := Object derive: #(b)
Parent2 >> foo [ ^ "foo2" ]

# Create a child class that overrides the conflicting method
ChildOverride := Object derive: #(x)
ChildOverride >> foo [ ^ "child" ]

# Now add parents - this should work since we have an override
ChildOverride addParent: Parent1
ChildOverride addParent: Parent2

result1 := ChildOverride new foo

# Scenario 2: Test that class methods work correctly with multiple inheritance
# All classes derive from Object, so they all inherit class methods like "derive:"
# This should work because we only check directly-defined methods, not inherited ones

ClassA := Object derive: #(a)
ClassB := Object derive: #(b)

MultipleInherit := Object derive: #(x)
MultipleInherit addParent: ClassA
MultipleInherit addParent: ClassB

# Class methods like "new" should work fine from all parents
instance1 := ClassA new
instance2 := ClassB new
instance3 := MultipleInherit new

# The child's override should take precedence
# "child" should be the result
result1
